REFF : https://www.youtube.com/watch?v=34aNWGDCQ9E How To Build A Rails 5 App in 57 min
===================================================
1. rails new hackernews -d mysql
2. cd hackernews
3. git init
4. git status
5. git add .
6. git  commit -am "Ruby Rails 5 App Only 1 Hours"
7. git checkout -b add_submissions
8. rails g scaffold submission title:string url:string
9. rails db:migrate
10. git status
11. git add .
12. git commit -am "
13. git commit -am "generated submissions"
14. git checkout master
15. git merge add_submissions
16. git checkout -b create_users
17. buka gemfile, lalu pindahkan package mysql ke group development, 
sehingga : 

group :development do
  # Access an IRB console on exception pages or by using <%= console %> anywhere in the code.
  gem 'web-console', '>= 3.3.0'
  # Use mysql as the database for Active Record
  gem 'mysql2', '>= 0.3.18', '< 0.5'
end

18. lalu tambahkan group production juga pada gemfile :
group :production do
  gem 'pg'
end
19. lalu cek versi ruby
ruby -v
- output :
ruby 2.3.3p222 (2016-11-21 revision 56859) [x64-mingw32]

20. buka gemfile tambahkan versi ruby sesuai cek versi diatas tadi :
ruby '2.3.3'

sehingga seperti ini persis dibawah source tadi :
source 'https://rubygems.org'
ruby '2.3.3'

21. buka gemfile tambahkan package devise dan wdm :

gem 'devise', '~> 4.2'
gem 'wdm', '>= 0.1.0'

22. buka gemfile tambahkan pada development jquery rails:
gem 'jquery-rails'

23. buka gemfile tambahkan pada development listen , spring, spring-watcher-listen:
gem 'listen', '~> 3.0.5'	
gem 'spring'	
gem 'spring-watcher-listen', '2.0.0'

sehingga tampak seluruh package seperti ini :

source 'https://rubygems.org'
ruby '2.3.3'

git_source(:github) do |repo_name|
  repo_name = "#{repo_name}/#{repo_name}" unless repo_name.include?("/")
  "https://github.com/#{repo_name}.git"
end

gem 'rails', '~> 5.1.4'
gem 'puma', '~> 3.7'
gem 'sass-rails', '~> 5.0'
gem 'uglifier', '>= 1.3.0'
gem 'coffee-rails', '~> 4.2'

gem 'jquery-rails'
gem 'turbolinks', '~> 5'
gem 'jbuilder', '~> 2.5'

gem 'devise', '~> 4.2'
gem 'wdm', '>= 0.1.0'

group :development, :test do
  gem 'byebug', platforms: [:mri, :mingw, :x64_mingw]
  gem 'capybara', '~> 2.13'
  gem 'selenium-webdriver'
end

group :development do
  gem 'listen', '~> 3.0.5'	
  gem 'spring'	
  gem 'spring-watcher-listen', '2.0.0'
  gem 'mysql2', '>= 0.3.18', '< 0.5'
  gem 'web-console', '>= 3.3.0'
end

group :production do
  gem 'pg'
end

gem 'tzinfo-data', platforms: [:mingw, :mswin, :x64_mingw, :jruby]

24. bundle install / bundle update
25. rails g devise:install
26. buka development.rb lalu aktfikan / uncomment baris :

config.file_watcher = ActiveSupport::EventedFileUpdateChecker

dan tambahkan dibawahnya :

config.action_mailer.default_url_options = { host: 'localhost', port: 3000 }

27. buka routes.rb tambahkan 
root 'submissions#index'

28. buka rubyonrails\hackernews\app\views\layouts\application.html.erb tambahkan setelah body :

<% flash.each do|name, msg| %>
		<%= content_tag(:div, msg, class: "alert alert-#{name}") %>
	<% end %>

sehingga : 
<body>
<% flash.each do|name, msg| %>
		<%= content_tag(:div, msg, class: "alert alert-#{name}") %>
	<% end %>
29. rails g devise:views
30. rails g devise User
31. rails db:migrate
32. rails s
33. coba daftarkan user http://localhost:3000/users/sign_up
jika error cannot load such file -- bcrypt_ext, solusi install native extension bcrypt :

-gem uninstall bcrypt-ruby
-gem uninstall bcrypt
-gem install bcrypt --platform=ruby

# setelah itu coba daftar lagi pasti berhasil.

34. rails c / rails console

35. User.All
36. git status
37. git add .
38. git commit -am "Add Users with Devise"
39.  buka views/layouts/application.html.erb tambahkan setelah flash :

<% if user_signed_in? %>
	<ul>
		<li><%= link_to "Submit", new_submission_path %></li>
		<li><%= link_to "Account", edit_user_registration_path %></li>
		<li><%= link_to "Sign Out", destroy_user_session_path, :method => :delete %></li>
	</ul>
	
	<% else %>
	<ul>
		<li><%= link_to "Sign up", new_user_registration_path %></li>
		<li><%= link_to "Sign in", new_user_session_path %></li>
	</ul>
	<% end %>

sehingga :

<!DOCTYPE html>
<html>
  <head>
    <title>Hackernews</title>
    <%= csrf_meta_tags %>

    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

  <body>
	<% flash.each do|name, msg| %>
		<%= content_tag(:div, msg, class: "alert alert-#{name}") %>
	<% end %>

	<% if user_signed_in? %>
	<ul>
		<li><%= link_to "Submit", new_submission_path %></li>
		<li><%= link_to "Account", edit_user_registration_path %></li>
		<li><%= link_to "Sign Out", destroy_user_session_path, :method => :delete %></li>
	</ul>
	
	<% else %>
	<ul>
		<li><%= link_to "Sign up", new_user_registration_path %></li>
		<li><%= link_to "Sign in", new_user_session_path %></li>
	</ul>
	<% end %>

    <%= yield %>
  </body>
</html>

40. buka model user.rb (user -> has_many (submission) user punya banyak submission)
tambahkan : 

has_many :submissions

sehingga : 

class User < ApplicationRecord
  # Include default devise modules. Others available are:
  # :confirmable, :lockable, :timeoutable and :omniauthable
  devise :database_authenticatable, :registerable,
         :recoverable, :rememberable, :trackable, :validatable

  has_many :submissions
end

41. buka model submissions.rb (submissions -> belongsto (user) submission bagian dari atau punya satu user)
tambahkan : 
belongs_to :user

sehingga : 
class Submission < ApplicationRecord
	belongs_to :user
end

42. buat migrasi menambahkan field/kolom user_id beserta index di table submissions
rails g migration add_user_id_to_submissions user_id:integer:index

output :
invoke  active_record
create    db/migrate/20171122023523_add_user_id_to_submissions.rb

44. rails db:migrate
45. git status
46. git add .
47. git commit -am "Added association between submissions and users"